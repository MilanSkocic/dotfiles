source ~/.config/neomutt/colors.neomuttrc

# User
set from = "milan.skocic@gmail.com"
set realname = "Milan Skocic"

# Gmail
set imap_user = "milan.skocic@gmail.com"
set smtp_url = "smtps://milan.skocic@smtp.gmail.com:465/"
#set smtp_authenticators = 'gssapi:login'
set imap_pass = "`pass show neomutt/milan.skocic@gmail.com`"
set smtp_pass = "`pass show neomutt/milan.skocic@gmail.com`"

# Ensure TLS is enforced
set ssl_starttls = yes
set ssl_force_tls = yes

# My mailboxes
set folder = "imaps://milan.skocic@gmail.com@imap.gmail.com:993"
set spoolfile = +INBOX
set postponed = "+[Gmail]/Недовршено"
set record = "+[Gmail]/Послато"
set trash = "+[Gmail]/Отпад"
set mbox = "+[Gmail]/Сва пошта"

unset record # do not save sent - already done by gmail.

mailboxes =         \
$spoolfile          \
$postponed          \
$trash              \
$mbox               \


# Where to put the stuff
set header_cache = "$XDG_CACHE_HOME/neomutt/headers"
set message_cachedir = "$XDG_CACHE_HOME/neomutt/bodies"
set certificate_file = "$XDG_CACHE_HOME/neomutt/certificates"

# link to mailcap file
set mailcap_path = "$XDG_CONFIG_HOME/neomutt/mailcap"
# open attachments with mailcap with <return>
bind attach <return> view-mailcap             
# save attachments to a folder
macro attach s '<save-entry> <bol>~/Downloads/<eol>' 'save attachment'
auto_view text/html	# automatically show html (mailcap uses lynx)

# others
set signature = "$XDG_CONFIG_HOME/neomutt/signature"
set editor = "nvim"

# abook
set query_command= "abook --mutt-query '%s'"
macro index,pager A "<pipe-message>abook --add-email-quiet<return>"
bind editor <Tab> complete-query
